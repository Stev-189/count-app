(this["webpackJsonpjournal-app"]=this["webpackJsonpjournal-app"]||[]).push([[0],{154:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),r=n(33),o=n.n(r),u=n(12),s=n(24),i=n(60),l=n(21),d=n(4),j="[Auth] Login",b="[Auth] Logout",p="[UI] Set Error",O="[UI] Remove Error",f="[UI] Start loading",m="[UI] Finish loading",h="[Notes] New note",v="[Notes] Set active note",x="[Notes] Load notes",g="[Notes] Updated note",y="[Notes] Delete note",_="[Notes] LogOut Cleaning",w="[Cursos] New curso",N="[Cursos] Set active curso",A="[Cursos] Load cursos",E="[Cursos] Updated curso",C="[Cursos] Delete curso",L="[Cursos] LogOut Cleaning",R="[Alumnos] New curso",I="[Alumnos] Set active curso",S="[Alumnos] Load alumnos",q="[Alumnos] Updated curso",k="[Alumnos] Delete curso",D="[Alumnos] LogOut Cleaning",U={alumnos:[],active:null},Y={cursos:[],active:null},P={notes:[],active:null},F={loading:!1,msgError:null},z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,G=Object(s.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{uid:t.payload.uid,name:t.payload.displayName};case b:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{msgError:t.payload});case O:return Object(d.a)(Object(d.a)({},e),{},{msgError:null});case f:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case m:return Object(d.a)(Object(d.a)({},e),{},{loading:!1});default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(d.a)(Object(d.a)({},e),{},{active:Object(d.a)({},t.payload)});case h:return Object(d.a)(Object(d.a)({},e),{},{notes:[t.payload].concat(Object(l.a)(e.notes))});case x:return Object(d.a)(Object(d.a)({},e),{},{notes:Object(l.a)(t.payload)});case g:return Object(d.a)(Object(d.a)({},e),{},{notes:e.notes.map((function(e){return e.id===t.payload.id?t.payload.note:e}))});case y:return Object(d.a)(Object(d.a)({},e),{},{active:null,notes:e.notes.filter((function(e){return e.id!==t.payload}))});case _:return Object(d.a)(Object(d.a)({},e),{},{active:null,notes:[]});default:return e}},cursos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(d.a)(Object(d.a)({},e),{},{active:Object(d.a)({},t.payload)});case w:return Object(d.a)(Object(d.a)({},e),{},{cursos:[t.payload].concat(Object(l.a)(e.cursos))});case A:return Object(d.a)(Object(d.a)({},e),{},{cursos:Object(l.a)(t.payload)});case E:return Object(d.a)(Object(d.a)({},e),{},{cursos:e.cursos.map((function(e){return e.id===t.payload.id?t.payload.curso:e}))});case C:return Object(d.a)(Object(d.a)({},e),{},{active:null,cursos:e.cursos.filter((function(e){return e.id!==t.payload}))});case L:return Object(d.a)(Object(d.a)({},e),{},{active:null,cursos:[]});default:return e}},alumnos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(d.a)(Object(d.a)({},e),{},{active:Object(d.a)({},t.payload)});case R:return Object(d.a)(Object(d.a)({},e),{},{alumnos:[t.payload].concat(Object(l.a)(e.alumnos))});case S:return Object(d.a)(Object(d.a)({},e),{},{alumnos:Object(l.a)(t.payload)});case q:return Object(d.a)(Object(d.a)({},e),{},{alumnos:e.alumnos.map((function(e){return e.id===t.payload.id?t.payload.alumno:e}))});case k:return Object(d.a)(Object(d.a)({},e),{},{active:null,alumnos:e.alumnos.filter((function(e){return e.id!==t.payload}))});case D:return Object(d.a)(Object(d.a)({},e),{},{active:null,alumnos:[]});default:return e}}}),M=Object(s.e)(G,z(Object(s.a)(i.a))),H=n(6),K=n.n(H),V=n(9),X=n(23),B=n(28),J=n(10),T=function(){return Object(a.jsxs)("div",{className:"nothing__main-content",children:[Object(a.jsxs)("p",{children:["Select something",Object(a.jsx)("br",{}),"or create an entry!"]}),Object(a.jsx)("i",{className:"far fa-star fa-4x mt-5"})]})},W=n(31);n(156),n(73);W.a.initializeApp({apiKey:"AIzaSyCEbOKNDFY1s7wI4Pz7pKaXRA01mAkY_R0",authDomain:"count-app-63f0a.firebaseapp.com",projectId:"count-app-63f0a",storageBucket:"count-app-63f0a.appspot.com",messagingSenderId:"902238416128",appId:"1:902238416128:web:c14e746188dba1943397e5"});var Q=W.a.firestore(),Z=(new W.a.auth.GoogleAuthProvider,function(){var e=Object(V.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.collection("colegio/fLxRGsMYLcRqRcqH2I9Y/cursos").get();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(Object(d.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),$=function(){var e=Object(V.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.collection("colegio/fLxRGsMYLcRqRcqH2I9Y/cursos/".concat(t,"/operaciones")).get();case 2:return n=e.sent,a=[],n.forEach((function(e){a.push(Object(d.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(V.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.collection("colegio/fLxRGsMYLcRqRcqH2I9Y/alumnos").get();case 2:return t=e.sent,n=[],t.forEach((function(e){n.push(Object(d.a)({id:e.id},e.data()))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(e){return{type:S,payload:e}},ne=function(e,t){return{type:I,payload:Object(d.a)({id:e},t)}},ae=function(e){var t=e.id,n=e.nCurso,c=e.nAlumno;return Object(a.jsx)("option",{value:t,children:n||c})},ce=function(){var e,t=Object(u.b)(),n=Object(u.c)((function(e){return e.cursos})).active,c=Object(u.c)((function(e){return e.alumnos.alumnos})),r=n.lAlumnos,o=(e=c,r.map((function(t){return e.find((function(e){return t===e.id}))})));return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("select",{name:"alumnos",id:"alumnos",defaultValue:"",onChange:function(e){var a,r,o;t((a=e.target.value,r=n,o=c,function(e){var t=o.find((function(e){return e.id===a}));t=Object(d.a)(Object(d.a)({},t),{},{transacciones:r.transacciones.filter((function(e){return e.asignacion.find((function(e){return e===a}))}))}),e(ne(a,t))}))},children:[Object(a.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Elija Alumno"}),Object(a.jsx)("option",{value:n.id,children:n.nCurso}),o[0]&&o.map((function(e){return Object(a.jsx)(ae,Object(d.a)({},e),e.id)}))]})})},re=function(){return Object(a.jsx)("div",{className:"container center",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h2",{children:"Card"}),Object(a.jsx)("hr",{}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})})},oe=function(e){return{type:p,payload:e}},ue=function(){return{type:m}},se=n(22),ie=n.n(se),le=function(e,t){return function(n){n({type:f}),W.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;n(de(t.uid,t.displayName)),n(ue())})).catch((function(e){n(ue()),ie.a.fire("Error",e.message,"error")}))}},de=function(e,t){return{type:j,payload:{uid:e,displayName:t}}},je=function(){return{type:b}},be=function(e){return{type:A,payload:e}},pe=function(e,t){return{type:N,payload:Object(d.a)({id:e},t)}},Oe=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth})).name,n=Object(u.c)((function(e){return e.cursos})).cursos;return Object(a.jsx)("aside",{className:"home__sidebar primary",children:Object(a.jsxs)("div",{className:"home__sidebar-navbar",children:[Object(a.jsxs)("h3",{className:"mt-5",children:[Object(a.jsx)("i",{className:"far fa-moon"}),Object(a.jsx)("span",{children:t})]}),Object(a.jsxs)("select",{name:"cursos",id:"cursos",defaultValue:"",onChange:function(t){e(function(e,t){return function(){var n=Object(V.a)(K.a.mark((function n(a){var c,r;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$(e);case 2:c=n.sent,r=t.filter((function(t){return t.id===e}))[0],r=Object(d.a)(Object(d.a)({},r),{},{transacciones:c}),a(pe(e,r));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t.target.value,n))},children:[Object(a.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Elija Curso"}),n.map((function(e){return Object(a.jsx)(ae,Object(d.a)({},e),e.id)}))]}),Object(a.jsx)("button",{className:"btn",onClick:function(){e(function(){var e=Object(V.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.auth().signOut();case 2:t(je()),t({type:_});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})})},fe=function(){var e=Object(u.c)((function(e){return e.cursos})).active;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Oe,{}),Object(a.jsx)("main",{children:e?Object(a.jsxs)("div",{className:"home__container",children:[Object(a.jsx)("div",{className:"home__fragment__slot",children:Object(a.jsx)(re,{})}),Object(a.jsx)("div",{className:"home__fragment__slot"}),Object(a.jsx)("div",{className:"home__fragment__slot",children:Object(a.jsx)(ce,{})})]}):Object(a.jsx)(T,{})})]})},me=n(36),he=n(61),ve=n.n(he),xe=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.ui})),n=t.msgError,r=t.loading,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(X.a)(t,2),a=n[0],r=n[1];return[a,function(e){var t=e.target;r(Object(d.a)(Object(d.a)({},a),{},Object(me.a)({},t.name,t.value)))},function(){r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e)}]}({email:"epavezllanca@gmail.com",password:"primeroc_2021"}),s=Object(X.a)(o,2),i=s[0],l=s[1],j=i.email,b=i.password,p=function(t){return ve.a.isEmail(j)?b.length<5?(e(oe("Password should be at least 6 characters and match each other")),!1):(e({type:O}),!0):(e(oe("Email is invalid")),!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{className:"auth__title",children:"Login"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),p()&&e(le(j,b))},className:"animate__animated animate__fadeIn animate__faster",children:[n&&Object(a.jsx)("div",{className:"auth__alert-error",children:n}),Object(a.jsx)("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:j,onChange:l}),Object(a.jsx)("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:b,onChange:l}),Object(a.jsx)("button",{disabled:r,type:"submit",className:"btn btn-primary btn-block",children:"Login"})]})]})},ge=function(){return Object(a.jsx)("div",{className:"auth__main",children:Object(a.jsx)("div",{className:"auth__box-container",children:Object(a.jsxs)(J.d,{children:[Object(a.jsx)(J.b,{exact:!0,path:"/auth/login",component:xe}),Object(a.jsx)(J.a,{to:"/auth/login"})]})})})},ye=n(37),_e=n(19),we=n.n(_e),Ne=function(e){var t=e.isAuthenticated,n=e.component,c=Object(ye.a)(e,["isAuthenticated","component"]);return Object(a.jsx)(J.b,Object(d.a)(Object(d.a)({},c),{},{component:function(e){return t?Object(a.jsx)(J.a,{to:"/"}):Object(a.jsx)(n,Object(d.a)({},e))}}))};Ne.prototype={isAuthenticated:we.a.bool.isRequired,component:we.a.func.isRequired};var Ae=function(e){var t=e.isAuthenticated,n=e.component,c=Object(ye.a)(e,["isAuthenticated","component"]);return Object(a.jsx)(J.b,Object(d.a)(Object(d.a)({},c),{},{component:function(e){return t?Object(a.jsx)(n,Object(d.a)({},e)):Object(a.jsx)(J.a,{to:"/auth/login"})}}))};Ae.prototype={isAuthenticated:we.a.bool.isRequired,component:we.a.func.isRequired};var Ee=function(){var e=Object(u.b)(),t=Object(c.useState)(!0),n=Object(X.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(!1),i=Object(X.a)(s,2),l=i[0],d=i[1];return Object(c.useEffect)((function(){W.a.auth().onAuthStateChanged(function(){var t=Object(V.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===n||void 0===n?void 0:n.uid)?(e(de(n.uid,n.displayName)),d(!0),e(function(){var e=Object(V.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:n=e.sent,t(te(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(V.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:n=e.sent,t(be(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):d(!1),o(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,o,d]),r?Object(a.jsx)("h1",{children:"Wait..."}):Object(a.jsx)(B.a,{children:Object(a.jsx)("div",{children:Object(a.jsxs)(J.d,{children:[Object(a.jsx)(Ne,{path:"/auth",component:ge,isAuthenticated:l}),Object(a.jsx)(Ae,{exact:!0,path:"/",component:fe,isAuthenticated:l}),Object(a.jsx)(J.a,{to:"/auth/login"})]})})})},Ce=function(){return Object(a.jsx)(u.a,{store:M,children:Object(a.jsx)(Ee,{})})};n(154);o.a.render(Object(a.jsx)(Ce,{}),document.getElementById("root"))}},[[155,1,2]]]);
//# sourceMappingURL=main.34fabda8.chunk.js.map